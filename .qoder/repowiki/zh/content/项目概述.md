# 项目概述

<cite>
**本文档引用的文件**  
- [README.md](file://README.md)
- [learning/快速启动.md](file://learning/快速启动.md)
- [apps/stage-web/README.md](file://apps/stage-web/README.md)
- [packages/i18n/src/locales/zh-Hant/docs/theme.yaml](file://packages/i18n/src/locales/zh-Hant/docs/theme.yaml)
- [packages/stage-ui/src/composables/use-modules-list.ts](file://packages/stage-ui/src/composables/use-modules-list.ts)
- [apps/stage-tamagotchi/package.json](file://apps/stage-tamagotchi/package.json)
- [apps/stage-web/src/components/Layouts/InteractiveArea.vue](file://apps/stage-web/src/components/Layouts/InteractiveArea.vue)
- [packages/stage-ui/src/libs/workers/worker.ts](file://packages/stage-ui/src/libs/workers/worker.ts)
- [packages/stage-ui/src/stores/ai/models/vad.ts](file://packages/stage-ui/src/stores/ai/models/vad.ts)
- [packages/stage-ui/src/stores/audio.ts](file://packages/stage-ui/src/stores/audio.ts)
</cite>

## 目录
1. [简介](#简介)
2. [项目愿景与核心用途](#项目愿景与核心用途)
3. [技术架构与实现](#技术架构与实现)
4. [关键功能模块](#关键功能模块)
5. [多平台支持](#多平台支持)
6. [设计哲学与生态系统](#设计哲学与生态系统)
7. [开发与部署](#开发与部署)
8. [总结](#总结)

## 简介

airi_learning 项目是一个基于大型语言模型（LLM）的虚拟角色系统，旨在创建一个类似 Neuro-sama 的 AI 虚拟主播或数字伴侣。该项目支持语音交互、游戏控制（Minecraft/Factorio）、多平台展示（Web/桌面/PWA）和 3D 模型驱动。通过 monorepo 架构，项目整合了 TypeScript、Vue.js、Electron、Tauri 和 Rust 等技术栈，为用户提供了一个高度可扩展和灵活的虚拟角色平台。

## 项目愿景与核心用途

airi_learning 项目的核心愿景是让用户拥有自己的数字生命，随时随地与虚拟角色互动。该项目不仅是一个聊天机器人，更是一个能够玩游戏、观看视频、进行多任务处理的数字伴侣。通过支持多种 LLM API 提供商，如 OpenAI、Anthropic Claude、Google Gemini 等，airi_learning 能够提供丰富的对话体验和个性化的交互。

## 技术架构与实现

### Monorepo 架构

airi_learning 采用 monorepo 架构，将多个子项目和包集中管理。这种架构有助于统一依赖管理和版本控制，提高开发效率。项目的主要目录结构包括：

- **apps**: 包含不同应用的源码，如 `stage-web`（Web 版本）、`stage-tamagotchi`（桌面版本）等。
- **crates**: 包含 Rust 编写的插件和库，如 `tauri-plugin-ipc-audio-transcription-ort`、`tauri-plugin-mcp` 等。
- **packages**: 包含可复用的组件和库，如 `audio`、`ccc`、`core-character` 等。
- **services**: 包含各种服务，如 `discord-bot`、`minecraft`、`telegram-bot` 等。

### 技术栈

- **TypeScript**: 用于编写类型安全的代码，提高代码质量和可维护性。
- **Vue.js**: 作为前端框架，提供响应式和组件化的 UI 开发体验。
- **Electron**: 用于构建跨平台的桌面应用。
- **Tauri**: 用于构建轻量级的桌面应用，提供更好的性能和安全性。
- **Rust**: 用于编写高性能的后端服务和插件。

## 关键功能模块

### 语音交互

airi_learning 支持客户端的语音识别和语音合成。通过 `@proj-airi/stage-ui/composables/useMicVAD` 和 `@proj-airi/stage-ui/libs/workers/worker.ts`，项目实现了语音活动检测（VAD）和自动语音识别（ASR）。用户可以通过麦克风与虚拟角色进行实时对话。

### 游戏控制

airi_learning 支持在 Minecraft 和 Factorio 中进行游戏控制。通过 `services/minecraft` 和 `services/factorio`，项目实现了与游戏服务器的通信，允许虚拟角色执行游戏内的操作，如移动、建造和战斗。

### 多平台展示

airi_learning 支持 Web、桌面和 PWA（Progressive Web App）等多种平台。通过 `apps/stage-web` 和 `apps/stage-tamagotchi`，用户可以在浏览器中或作为独立应用使用虚拟角色。PWA 支持使得虚拟角色可以在移动设备上运行，提供无缝的用户体验。

### 3D 模型驱动

airi_learning 支持 VRM 和 Live2D 模型，提供丰富的视觉效果。通过 `packages/stage-ui` 和 `packages/stage-ui-three`，项目实现了对 3D 模型的控制和动画，使虚拟角色能够进行眨眼、注视和 idle 眼动等自然动作。

## 多平台支持

### Web 版本

Web 版本通过 `apps/stage-web` 实现，用户可以通过浏览器访问虚拟角色。项目使用 Vue.js 和 Vite 构建，支持现代 Web 技术，如 WebGPU、WebAudio 和 Web Workers。

### 桌面版本

桌面版本通过 `apps/stage-tamagotchi` 实现，使用 Electron 和 Tauri 构建。桌面版本提供了更好的性能和更多的系统级功能，如文件访问和系统通知。

### PWA 支持

PWA 支持使得虚拟角色可以在移动设备上离线运行。通过 `apps/stage-web` 的 PWA 配置，用户可以将虚拟角色添加到主屏幕，享受类似原生应用的体验。

## 设计哲学与生态系统

### 设计哲学

airi_learning 的设计哲学是“用户拥有自己的数字生命”。项目致力于提供一个开放、可扩展的平台，让用户能够自由地定制和扩展虚拟角色的功能。通过支持多种 LLM API 提供商和插件系统，项目鼓励社区贡献和创新。

### 生态系统

airi_learning 拥有一个活跃的生态系统，包括多个子项目和社区贡献。主要子项目包括：

- **Awesome AI VTuber**: 一个 AI VTuber 和相关项目的 curated 列表。
- **unspeech**: 一个通用的 ASR 和 TTS 代理服务器。
- **xsai**: 一个与 LLM 和模型交互的实验性库。
- **AIRI Factorio**: 允许 AIRI 玩 Factorio 的项目。

## 开发与部署

### 开发环境

开发环境的搭建非常简单。用户需要安装 Node.js、pnpm 和 Rust（如果需要构建 Rust crates）。在仓库根目录运行 `pnpm install` 安装所有依赖，然后使用 `pnpm run dev` 启动开发服务器。

### 构建与发布

项目支持多种构建和发布方式。用户可以使用 `pnpm run build` 构建所有应用和包，或使用 `pnpm run build:packages` 仅构建包。对于 Rust crates，可以使用 `pnpm run build:crates` 或直接运行 `cargo build --workspace`。

## 总结

airi_learning 项目是一个功能强大且高度可扩展的虚拟角色系统，旨在为用户提供一个类似 Neuro-sama 的 AI 虚拟主播或数字伴侣。通过 monorepo 架构和多种技术栈的整合，项目实现了语音交互、游戏控制、多平台展示和 3D 模型驱动等关键功能。未来，项目将继续发展，提供更多创新功能和更好的用户体验。

**Section sources**
- [README.md](file://README.md)
- [learning/快速启动.md](file://learning/快速启动.md)
- [apps/stage-web/README.md](file://apps/stage-web/README.md)
- [packages/i18n/src/locales/zh-Hant/docs/theme.yaml](file://packages/i18n/src/locales/zh-Hant/docs/theme.yaml)
- [packages/stage-ui/src/composables/use-modules-list.ts](file://packages/stage-ui/src/composables/use-modules-list.ts)
- [apps/stage-tamagotchi/package.json](file://apps/stage-tamagotchi/package.json)
- [apps/stage-web/src/components/Layouts/InteractiveArea.vue](file://apps/stage-web/src/components/Layouts/InteractiveArea.vue)
- [packages/stage-ui/src/libs/workers/worker.ts](file://packages/stage-ui/src/libs/workers/worker.ts)
- [packages/stage-ui/src/stores/ai/models/vad.ts](file://packages/stage-ui/src/stores/ai/models/vad.ts)
- [packages/stage-ui/src/stores/audio.ts](file://packages/stage-ui/src/stores/audio.ts)