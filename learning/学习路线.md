# AIRI 项目学习路线

本文档基于项目架构和技术栈，为不同层次的学习者提供系统化的学习路径。

## 📚 学习路线概览

### 学习阶段划分

- **阶段一**：环境搭建与基础了解（1-2天）
- **阶段二**：前端基础架构学习（3-5天）
- **阶段三**：核心系统深入（5-7天）
- **阶段四**：专项功能模块（按需选择）
- **阶段五**：高级主题与实战（进阶）

---

## 🚀 阶段一：环境搭建与基础了解

### 目标
- 成功运行项目
- 理解项目的整体架构和技术栈
- 熟悉开发流程

### 学习内容

#### 1. 项目概述
**推荐阅读**：
- 项目概述
- README.md

**学习要点**：
- 了解 AIRI 是什么（AI 虚拟角色/VTuber）
- 核心功能：大脑（Brain）、耳朵（Ears）、嘴巴（Mouth）、身体（Body）
- 支持的平台：Web、PWA、桌面（Tauri）

#### 2. 快速开始
**推荐阅读**：
- 快速开始
- learning/快速启动.md

**实践任务**：
```bash
# 1. 安装依赖
pnpm install

# 2. 启动 Web 版本
pnpm dev

# 3. 启动桌面版本
pnpm dev:tamagotchi
```

#### 3. 技术栈与依赖
**推荐阅读**：
- 技术栈与依赖

**学习要点**：
- **前端**：Vue 3 + Vite + TypeScript + UnoCSS
- **桌面**：Tauri（Rust）
- **构建**：pnpm + Turbo（Monorepo）
- **LLM**：OpenAI、Claude、Ollama 等
- **音频**：WebAudio、语音识别（STT）、语音合成（TTS）
- **渲染**：Live2D、VRM、WebGPU

#### 4. 项目目录结构
**推荐阅读**：
- 核心系统架构 > 插件化设计

**学习要点**：
```
├── apps/              # 应用入口
│   ├── stage-web/     # Web 浏览器版本
│   ├── stage-tamagotchi/  # Tauri 桌面版本
│   └── component-calling/  # 组件调用示例
├── packages/          # 共享 TypeScript 包
├── crates/            # Rust 插件（Tauri）
├── plugins/           # AIRI 插件系统
└── services/          # 后台服务（Discord、Telegram 等）
```

**实践任务**：
- 浏览各个目录，了解代码组织方式
- 识别主要的 package.json 和 Cargo.toml

---

## 🎨 阶段二：前端基础架构学习

### 目标
- 掌握 Vue 3 组件系统
- 理解状态管理机制
- 熟悉 UI 组件库

### 学习内容

#### 1. 组件库基础

##### 1.1 表单组件（2-3天）
**推荐阅读**：
- 前端架构 > 组件库 > 表单组件

**学习顺序**：
1. 复选框 (Checkbox)
2. 输入框 (Input)
3. 选择器 (Select)
4. 多行文本框 (Textarea)
5. 滑块 (Range)
6. 表单字段 (Field)

**实践任务**：
- 查看 `packages/stage-ui/src/components/form/` 下的组件实现
- 运行组件文档：`pnpm dev:storybook`（如果有）
- 创建一个简单的表单页面，使用这些组件

##### 1.2 布局组件（1-2天）
**推荐阅读**：
- 前端架构 > 组件库 > 布局组件

**学习顺序**：
1. Callout 布局
2. PageHeader 布局
3. Section 布局
4. Tabs 布局

**实践任务**：
- 查看 `apps/stage-web/src/` 中布局的实际应用
- 修改设置页面的布局结构

##### 1.3 菜单与选择组件（1天）
**推荐阅读**：
- 前端架构 > 组件库 > 菜单与选择组件

**学习内容**：
- 角色卡片组件 (CharacterCard)
- 图标项组件 (IconItem)
- 单选卡片组件 (RadioCardSimple)
- 语音卡片组件 (VoiceCard)

#### 2. Web 应用架构（2-3天）

##### 2.1 页面系统
**推荐阅读**：
- 前端架构 > Web应用 > 页面系统

**学习顺序**：
1. 主页
2. 设置页面
3. 开发工具页面
4. 路由机制

**实践任务**：
- 查看 `apps/stage-web/src/pages/` 或 `packages/stage-pages/src/pages/`
- 添加一个新的测试页面
- 理解 Vue Router 的配置

##### 2.2 样式系统
**推荐阅读**：
- 前端架构 > 样式系统

**学习要点**：
- UnoCSS 原子化 CSS 实现
- 响应式设计方法
- 查看 `uno.config.ts` 配置

**实践任务**：
- 修改主题颜色
- 创建自定义的 UnoCSS 工具类

#### 3. 状态管理（2-3天）

**推荐阅读**：
- 前端架构 > 状态管理
- 核心系统架构 > 状态管理

**学习顺序**：
1. 核心状态存储
2. UI 状态管理（窗口状态、模型状态）
3. AI 状态管理（LLM、聊天、MCP）
4. 模块状态管理（语音、角色卡片、听觉）

**实践任务**：
- 查看 `packages/stage-shared/src/` 或相关状态管理文件
- 追踪一个用户交互（如发送消息）如何改变状态
- 创建一个简单的状态模块

---

## 🧠 阶段三：核心系统深入

### 目标
- 理解 AI 交互流程
- 掌握事件驱动架构
- 了解插件系统

### 学习内容

#### 1. LLM 集成架构（3-4天）

**推荐阅读**：
- 核心系统架构 > LLM集成架构

**学习要点**：
- 多 LLM 提供商支持（OpenAI、Claude、Ollama）
- 消息流处理
- 流式响应处理
- Prompt 工程

**实践任务**：
- 查看 LLM 相关代码（可能在 `packages/` 或 `apps/stage-web/src/` 中）
- 配置不同的 LLM 提供商
- 修改 system prompt
- 实现一个简单的聊天功能

#### 2. 事件总线（Eventa）（1-2天）

**推荐阅读**：
- 核心系统架构 > 事件总线（Eventa）

**学习要点**：
- 发布-订阅模式
- 事件类型定义
- 跨模块通信

**实践任务**：
- 查看 `packages/injecta/` 或事件系统实现
- 订阅一个现有事件（如语音识别完成）
- 发布一个自定义事件

#### 3. 插件化设计（2-3天）

**推荐阅读**：
- 核心系统架构 > 插件化设计
- 插件系统

**学习内容**：
- Tauri 原生插件（Rust）
- 内部 TypeScript 插件
- 浏览器扩展插件

**实践任务**：
- 查看 `plugins/` 目录
- 研究 `airi-plugin-claude-code` 的实现
- 创建一个简单的 TypeScript 插件

---

## 🎯 阶段四：专项功能模块（按需选择）

根据你的兴趣选择以下模块深入学习：

### A. 音频处理路径（推荐：音频/语音方向）

#### 学习时长：5-7天

**推荐阅读**：
- 音频处理管道
  - 语音活动检测（VAD）实现
  - 语音识别（STT）集成
  - 语音合成（TTS）流程

**学习顺序**：
1. **音频基础**（1天）
   - 查看 `packages/audio/src/`
   - 理解 WebAudio API
   - 音频可视化组件

2. **VAD 实现**（2天）
   - 查看 `crates/tauri-plugin-ipc-audio-vad-ort/`
   - 理解语音活动检测算法
   - 测试不同环境下的检测效果

3. **STT 集成**（2天）
   - 查看 `crates/tauri-plugin-ipc-audio-transcription-ort/`
   - 集成不同的语音识别服务
   - 处理实时转录

4. **TTS 流程**（1-2天）
   - ElevenLabs 集成
   - 其他 TTS 服务
   - 语音合成优化

**实践任务**：
- 实现完整的语音对话流程：说话 → VAD → STT → LLM → TTS
- 优化音频延迟

### B. 3D 渲染路径（推荐：图形/动画方向）

#### 学习时长：5-7天

**推荐阅读**：
- 3D模型支持
  - Live2D集成
  - VRM模型驱动
  - 3D渲染引擎
- 前端架构 > 组件库 > 场景与模型组件

**学习顺序**：
1. **Live2D 基础**（2-3天）
   - 查看 Live2D 组件实现
   - 理解模型加载和渲染
   - 参数控制和动画

2. **VRM 模型**（2天）
   - VRM 规范学习
   - 模型驱动实现
   - 表情和动作控制

3. **3D 辅助与特效**（1-2天）
   - 查看 `packages/stage-ui-three/` 和 `packages/tresjs/`
   - Three.js 集成
   - 后处理效果

**实践任务**：
- 加载自定义 Live2D/VRM 模型
- 实现眨眼、注视跟随等行为
- 添加自定义动画

### C. 桌面应用路径（推荐：系统开发方向）

#### 学习时长：5-7天

**推荐阅读**：
- 前端架构 > 桌面应用
  - 主进程架构
  - 渲染进程实现
  - 窗口管理系统
  - 原生功能集成
  - 打包与分发

**学习顺序**：
1. **Tauri 基础**（2天）
   - 主进程初始化流程
   - IPC 通信机制
   - 查看 `apps/stage-tamagotchi/`

2. **原生插件开发**（2-3天）
   - 查看 `crates/` 下的插件实现
   - Rust FFI 基础
   - 学习一个插件：如 `tauri-plugin-window-pass-through-on-hover`

3. **窗口管理**（1-2天）
   - 多窗口架构
   - 窗口行为控制
   - 跨进程通信

4. **打包与分发**（1天）
   - 构建配置
   - 代码签名
   - 自动更新

**实践任务**：
- 创建一个自定义 Tauri 插件
- 实现窗口穿透或自定义窗口行为
- 打包桌面应用

### D. 后端服务路径（推荐：集成/Bot 方向）

#### 学习时长：4-6天

**推荐阅读**：
- 后端与服务
  - Discord机器人
  - Telegram机器人
  - Minecraft代理
  - Twitter自动化服务

**学习顺序**：
1. **Discord Bot**（2天）
   - 查看 `services/discord-bot/`
   - Discord.js 基础
   - Bot 命令实现
   - 语音频道集成

2. **Telegram Bot**（2天）
   - 查看 `services/telegram-bot/`
   - Telegram Bot API
   - 消息处理
   - 与 AIRI 核心集成

3. **游戏代理**（2天）
   - Minecraft 代理实现
   - 游戏状态同步
   - AI 玩游戏的逻辑

**实践任务**：
- 部署一个 Discord/Telegram Bot
- 实现自定义命令
- 让 AIRI 在 Minecraft 中执行简单任务

---

## 🚀 阶段五：高级主题与实战

### 目标
- 掌握完整的开发流程
- 能够独立开发新功能
- 理解性能优化

### 学习内容

#### 1. 数据可视化组件（2-3天）

**推荐阅读**：
- 前端架构 > 组件库 > 数据可视化组件

**学习内容**：
- 音频可视化组件
- 电平指示器组件
- 时序数据图表
- 聊天交互可视化

**实践任务**：
- 创建自定义的可视化组件
- 实现实时数据更新

#### 2. 国际化系统（1天）

**推荐阅读**：
- 国际化系统

**学习要点**：
- 查看 `packages/i18n/`
- 多语言支持
- 翻译文件管理

**实践任务**：
- 添加新语言支持
- 翻译一个页面

#### 3. 构建与部署（2-3天）

**推荐阅读**：
- 构建与部署
  - Web应用构建与部署
  - 桌面应用构建与打包
  - CI/CD流水线配置

**学习要点**：
- Turbo 构建优化
- Netlify/Vercel 部署
- Tauri 打包
- GitHub Actions

**实践任务**：
- 优化构建速度
- 配置 CI/CD
- 部署到云平台

#### 4. 性能优化（进阶）

**学习主题**：
- 前端性能优化
  - 组件懒加载
  - 虚拟滚动
  - WebWorker 使用
- 音频性能
  - 降低延迟
  - 内存优化
- 渲染性能
  - WebGPU 优化
  - 动画性能

**实践任务**：
- 使用性能分析工具（Chrome DevTools）
- 优化一个性能瓶颈

---

## 📋 实战项目建议

完成基础学习后，建议通过以下项目巩固知识：

### 初级项目（选1-2个）
1. **自定义主题系统**：实现主题切换和自定义颜色方案
2. **简单插件开发**：创建一个显示天气信息的插件
3. **新的设置页面**：添加一个管理用户偏好的页面

### 中级项目（选1个）
1. **语音助手增强**：添加自定义唤醒词或命令
2. **新的 Live2D 表情**：实现基于情绪的表情控制
3. **聊天历史分析**：创建聊天数据的可视化分析工具

### 高级项目（进阶）
1. **本地 LLM 集成**：集成本地运行的 LLM（如 llama.cpp）
2. **多角色系统**：支持多个 AI 角色切换
3. **游戏集成扩展**：添加新游戏支持（如其他沙盒游戏）

---

## 🔍 学习资源推荐

### 官方文档
- Vue 3: https://vuejs.org/
- Vite: https://vitejs.dev/
- Tauri: https://tauri.app/
- UnoCSS: https://unocss.dev/

### 相关技术
- TypeScript: https://www.typescriptlang.org/
- Three.js: https://threejs.org/
- WebAudio API: https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API
- Live2D: https://www.live2d.com/

### 社区资源
- 项目 GitHub 仓库
- 项目 Discord 社区（如果有）
- 相关技术的中文社区

---

## 💡 学习建议

### 通用建议
1. **循序渐进**：不要跳过基础阶段，每个阶段都要有实践
2. **动手实践**：理论学习 30%，代码实践 70%
3. **阅读源码**：遇到问题时，多查看项目源码
4. **记录笔记**：记录学习过程中的发现和问题
5. **参与贡献**：尝试修复 bug 或添加小功能

### 调试技巧
1. **使用 Vue DevTools**：调试组件状态和事件
2. **Chrome DevTools**：性能分析和网络调试
3. **日志输出**：在关键位置添加 console.log
4. **断点调试**：学会使用 debugger 语句

### 常见问题
1. **依赖安装失败**：清理缓存，重新安装
2. **端口占用**：检查并关闭占用端口的进程
3. **类型错误**：仔细阅读 TypeScript 错误信息
4. **构建失败**：查看完整的错误堆栈

---

## 🎓 学习检查清单

### 阶段一完成标准
- [ ] 成功运行 Web 版本和桌面版本
- [ ] 理解项目的 Monorepo 结构
- [ ] 知道各个目录的作用

### 阶段二完成标准
- [ ] 能够创建和使用表单组件
- [ ] 理解页面路由机制
- [ ] 掌握基本的状态管理

### 阶段三完成标准
- [ ] 理解 LLM 交互流程
- [ ] 能够订阅和发布事件
- [ ] 了解插件系统的工作原理

### 阶段四完成标准
- [ ] 至少深入学习一个专项模块
- [ ] 完成相关的实践任务

### 阶段五完成标准
- [ ] 能够独立开发新功能
- [ ] 理解构建和部署流程
- [ ] 完成至少一个实战项目

---

## 📞 获取帮助

遇到问题时，可以：
1. 查看项目的 README 和文档
2. 搜索 GitHub Issues
3. 在社区提问（Discord/论坛）
4. 查看相关技术的官方文档

---

## 🎯 下一步行动

1. **立即开始**：从阶段一开始，今天就运行起项目
2. **制定计划**：根据你的时间，制定详细的学习计划
3. **设定目标**：选择一个你想完成的实战项目作为目标
4. **持续学习**：每天至少投入 1-2 小时学习和实践

祝你学习愉快！🚀
